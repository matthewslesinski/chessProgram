package support;

import boardFeatures.File;
import boardFeatures.Rank;
import boardFeatures.Square;
import pieces.Piece;
import representation.Board;

public class BoardStringifier<B extends Board> {

	private final Piece[] pieces;
	private static final boolean runningFromEclipse = Boolean.getBoolean("eclipse");
	StringBuilder builder = new StringBuilder();
	
	public BoardStringifier(B board) {
		pieces = board.toPieceArray();
	}
		
	
	public String stringify() {
		builder.append("--------\n");
		for (int rank = 8; rank >= 1; rank--) {
			for (char file = 'a'; file <= 'h'; file++) {
				builder.append("|");
				builder.append(Square.getByFileAndRank(File.getByHumanReadableForm(file+""), Rank.getByHumanReadableForm(rank+"")).getValueOfSquareInArray(pieces));
			}
			builder.append("\n");
		}
		builder.append("|");
		builder.append("--------\n");
		
		return builder.toString();
	}
	
}
